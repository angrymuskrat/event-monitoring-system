(this["webpackJsonpevent-monitoring-frontend"]=this["webpackJsonpevent-monitoring-frontend"]||[]).push([[7],{240:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var a=t(0),r=t.n(a);function i(){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M18.3602 19.78L12.0002 13.41L5.64021 19.78L4.22021 18.36L10.5902 12L4.22021 5.63997L5.64021 4.21997L12.0002 10.59L18.3602 4.22997L19.7702 5.63997L13.4102 12L19.7702 18.36L18.3602 19.78Z",fill:"black"}))}},296:function(e,n,t){"use strict";var a=t(32),r=t(0),i=t.n(r),o=t(73),l=t(55),c=t(56),s=t(57);n.a=function(e){var n=e.submitValue,t=e.type,u=e.value,d=Object(r.useState)(""),m=Object(a.a)(d,2),p=m[0],f=m[1];return Object(r.useEffect)((function(){u&&f(u)}),[u]),i.a.createElement(l.a,{type:t,in:t},i.a.createElement(s.a,{placeholder:"Search...",value:p,onChange:function(e){f(e.target.value)},onKeyDown:function(e){switch(e.key){case"Enter":n(p)}}}),i.a.createElement(c.a,{onClick:function(){n(p)}},i.a.createElement(o.a,null)))}},297:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return l}));var a=t(60),r=t(32),i=t(0),o=function(){var e=Object(i.useState)(window.innerWidth),n=Object(r.a)(e,2),t=n[0],a=n[1];return Object(i.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),t};function l(e,n){switch(n.type){case"focusChange":return Object(a.a)({},e,{focusedInput:n.payload});case"dateChange":return n.payload;default:throw new Error}}},301:function(e,n,t){"use strict";var a=t(32),r=t(0),i=t.n(r),o=t(15),l=t(14),c=t(8);function s(){var e=Object(o.a)(["\n  flex-basis: 50%;\n  margin-right: 1rem;\n  svg {\n    display: block;\n    width: 1em;\n    height: 1em;\n    fill: currentColor;\n  }\n  .select {\n    position: relative;\n    display: inline-block;\n    min-width: 11rem;\n    width: 100%;\n\n    &:focus {\n      outline: 0;\n      &__input {\n        box-shadow: 0 0 1px 1px #00a9e0;\n      }\n    }\n  }\n  .select__input {\n    position: relative;\n    padding: 0.7rem;\n    border: 1px solid rgba(143, 155, 179, 0.23);\n    border-radius: 1rem;\n    background: #fff;\n  }\n  .select__input_open {\n    border-radius: 1rem 1rem 0px 0px;\n  }\n  .select__value {\n    position: relative;\n    display: inline-block;\n    padding: 0.5rem 1rem;\n  }\n  .select__placeholder {\n    padding: 0.5rem 1rem;\n    color: ",";\n  }\n  .select__arrow {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    display: block;\n    padding: 1rem;\n    font-size: 1rem;\n    color: ",";\n  }\n  .select__options {\n    position: absolute;\n    z-index: 200;\n    top: 100%;\n    left: 0;\n    right: 0;\n    border-width: 0 1px;\n  }\n  .select__option {\n    padding: 1rem 1.5rem;\n    border-bottom: 1px solid rgba(143, 155, 179, 0.23);\n    border-left: 1px solid rgba(143, 155, 179, 0.23);\n    border-right: 1px solid rgba(143, 155, 179, 0.23);\n    background-color: #ffffff;\n    cursor: pointer;\n    &_selected {\n      border: 1px solid #00a9e0;\n      margin: -1px -1px 0;\n      background: #d9f2fb;\n      pointer-events: none;\n    }\n    &_focused {\n      background: ",";\n    }\n    &_last {\n      border-radius: 0px 0px 10px 10px;\n    }\n  }\n"]);return s=function(){return e},e}var u=l.e.div(s(),c.d,c.d,c.k),d=function(){return i.a.createElement("svg",{viewBox:"0 0 10 8"},i.a.createElement("path",{d:"M2.08578644,7.29289322 C1.69526215,7.68341751 1.69526215,8.31658249 2.08578644,8.70710678 C2.47631073,9.09763107 3.10947571,9.09763107 3.5,8.70710678 L8.20710678,4 L3.5,-0.707106781 C3.10947571,-1.09763107 2.47631073,-1.09763107 2.08578644,-0.707106781 C1.69526215,-0.316582489 1.69526215,0.316582489 2.08578644,0.707106781 L5.37867966,4 L2.08578644,7.29289322 Z",transform:"translate(5.000000, 4.000000) rotate(-90.000000) translate(-5.000000, -4.000000) "}))},m=function(){return i.a.createElement("svg",{viewBox:"0 0 10 7"},i.a.createElement("path",{d:"M2.08578644,6.5 C1.69526215,6.89052429 1.69526215,7.52368927 2.08578644,7.91421356 C2.47631073,8.30473785 3.10947571,8.30473785 3.5,7.91421356 L8.20710678,3.20710678 L3.5,-1.5 C3.10947571,-1.89052429 2.47631073,-1.89052429 2.08578644,-1.5 C1.69526215,-1.10947571 1.69526215,-0.476310729 2.08578644,-0.0857864376 L5.37867966,3.20710678 L2.08578644,6.5 Z",transform:"translate(5.000000, 3.207107) rotate(90.000000) translate(-5.000000, -3.207107) "}))};n.a=function(e){var n=e.options,t=e.placeholder,o=e.handleSelectOption,l=e.value,c=Object(r.useState)([]),s=Object(a.a)(c,2),p=s[0],f=s[1],b=Object(r.useState)(-1),h=Object(a.a)(b,2),g=h[0],v=h[1],x=Object(r.useState)(!1),E=Object(a.a)(x,2),_=E[0],w=E[1];Object(r.useEffect)((function(){l&&f(l)}),[l]);var y=function(e){var t=e.currentTarget.dataset.value,a=n.findIndex((function(e){return e.value===t}));v(a)},k=function(e){var n=e.currentTarget.dataset.value,t=p.indexOf(n);if(-1===t)f(n),o(n),w(!1);else{var a=p.splice(t,1);f(a),w(!1)}},O=function(e,t){var a=e.value,r="select__option";return p.includes(a)&&(r+=" select__option_selected"),t===g&&(r+=" select__option_focused"),t===n.length-1&&(r+=" select__option_last"),i.a.createElement("div",{key:a,"data-value":a,className:r,onMouseOver:y,onClick:k},a)};return i.a.createElement(u,null,i.a.createElement("div",{className:"select",tabIndex:"0",onBlur:function(){var e=p[0],t=-1;e&&(t=n.findIndex((function(n){return n.value===e}))),v(t),w(!1)},onKeyDown:function(e){var t=g;switch(e.key){case" ":e.preventDefault(),_&&w(!0);break;case"Escape":case"Tab":_&&(e.preventDefault(),w(!1));break;case"Enter":w(!_);break;case"ArrowDown":e.preventDefault(),t=g,g<n.length-1&&(t++,f([n[t].value]),v(t));break;case"ArrowUp":e.preventDefault(),t=g,g>0&&(t--,f([n[t].value]),v(t))}}},i.a.createElement("div",{className:_?"select__input select__input_open":"select__input",onClick:function(){w(!_)}},0===p.length?i.a.createElement("div",{className:"select__placeholder text_p2"},t):i.a.createElement("div",{className:"select__value"},p),i.a.createElement("span",{className:"select__arrow"},_?i.a.createElement(d,null):i.a.createElement(m,null))),_?i.a.createElement("div",{className:"select__options"},n.map(O)):null))}},578:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t.n(a),i=t(26),o=t(81),l=t(53),c=t(41),s=t(28),u=t(29),d=t(30),m=t(11),p=t(24),f=t(32),b=t(0),h=t.n(b),g=t(22),v=t(236),x=t(239),E=(t(331),t(332)),_=t.n(E),w=t(8),y=t(38),k=t.n(y),O=t(342),S=t.n(O),j=(t(344),t(238));var D=function(e){var n=e.properties,t=e.center,a=e.onEventClick;return h.a.createElement(j.a,{className:"circle",icon:function(){var e='\n      <div data-photoUrl="'.concat(n.photoUrl,'"\n          class="marker-inner" \n          style="\n            background: url(').concat(n.photoUrl,') no-repeat center center;\n            background-color: #fff;\n            background-size: cover;\n          "\n          >\n          <div class="marker__description" style="width:').concat(25+6*n.title.length,'px">\n            <span class="text">').concat(n.title,"</span>\n          </div>\n      </div>\n    ");return Object(y.divIcon)({className:"marker",html:e})}(),position:t,onClick:function(){a(n.id,n.postcodes)}})};var C=function(e){var n=e.events,t=e.onEventClick,a=n?n.map((function(e){return h.a.createElement(D,Object.assign({key:"".concat(e.properties.id),center:e.geometry.coordinates,onEventClick:t},e))})):null;return h.a.createElement(S.a,{iconCreateFunction:function(e){var n=e.getAllChildMarkers()[0].options.icon.options.html,t=n.substring(n.indexOf('data-photoUrl="')+15,n.indexOf('class="marker-inner"')),a=n.substring(n.indexOf('<span class="text">')+19,n.indexOf("</span>")),r=e.getChildCount();return k.a.divIcon({html:'<div class="marker-inner" \n                style="\n                  background: url('.concat(t.replace('"',""),') no-repeat center center;\n                  background-color: #fff;\n                  background-size: cover;\n                "\n                >\n                  <div class="marker__description" style="width:').concat(30+6*a.length,'px">\n                    <span class="text">').concat(a," + ").concat(r," events</span>\n                  </div>\n              </div>"),className:"marker"})},showCoverageOnHover:!1,spiderfyOnMaxZoom:!0,spiderLegPolylineOptions:{weight:0,opacity:0},removeOutsideVisibleBounds:!0},a)},N=t(58);var H=function(e){var n=e.isShowAllEvents,t=e.isSearchingEvents,a=e.isLoading,r=e.chartData,i=e.allHeatmapData,o=e.currentHeatmap,l=e.currentEvents,c=e.events,s=e.mapRef,u=e.searchQuery,d=e.selectedHour,m=e.handleViewportChangeEnd,p=e.viewport,g=e.onEventClick,E=Object(b.useState)(null),y=Object(f.a)(E,2),k=y[0],O=y[1],S=Object(b.useState)(null),j=Object(f.a)(S,2),D=j[0],H=j[1],L=Object(b.useState)(null),P=Object(f.a)(L,2),z=P[0],F=P[1],M=Object(b.useState)(),A=Object(f.a)(M,2),V=A[0],B=A[1];Object(b.useEffect)((function(){F(p.toJS())}),[p]),Object(b.useEffect)((function(){O(Q()),H(I())}),[o,l,c,u,i,n,t,d]),Object(b.useEffect)((function(){O(Q())}),[V]);var Q=function(){if(s.current&&(o||n&&i)&&d&&!t){var e=[];return n&&r&&i&&r.forEach((function(n){void 0!==i.get("".concat(n.time))&&i.get("".concat(n.time)).toJS().forEach((function(n){return e.push(n)}))})),n?e:o?o.toJS():null}return null},I=function(){if(t&&u)return u.toJS();if(s.current&&(l||n&&c)&&d&&!t){var e=[];return n&&r&&c&&r.forEach((function(n){void 0!==c.get("".concat(n.time))&&c.get("".concat(n.time)).toJS().forEach((function(n){return e.push(n)}))})),n?e:l?l.toJS():null}return null};return h.a.createElement(h.a.Fragment,null,z?h.a.createElement(v.a,{id:"mapId",ref:s,animate:!0,viewport:z,onViewportChanged:function(e){s.current&&m(e)},onViewportChange:function(e){B(e.zoom)}},h.a.createElement(x.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/light_all/{z}/{x}/{y}.png"}),a?h.a.createElement(N.a,null):h.a.createElement(h.a.Fragment,null,!t&&h.a.createElement(_.a,{points:k,longitudeExtractor:function(e){return e[1]},latitudeExtractor:function(e){return e[0]},gradient:w.j,minOpacity:.25,intensityExtractor:function(e){return parseFloat(e[2]/3)},radius:30,blur:10,max:3}),h.a.createElement(C,{events:D,onEventClick:g}))):h.a.createElement(N.a,null))},L=t(40),P=t.n(L),z=t(240),F=t(15),M=t(14);function A(){var e=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  @media (max-width: 650px) {\n    padding-top: 0;\n  }\n  .sidebar__close-button {\n    position: absolute;\n    top: 8rem;\n    cursor: pointer;\n    display: none;\n    align-self: flex-end;\n    width: 4rem;\n    height: 4rem;\n    margin-bottom: 2rem;\n    font-size: 1rem;\n    line-height: 1rem;\n    vertical-align: middle;\n    & svg path {\n      transition: fill 0.25s;\n      fill: ",";\n    }\n    &:hover {\n      & svg path {\n        fill: ",";\n      }\n    }\n    @media (max-width: 650px) {\n      display: block;\n    }\n  }\n  .sidebar__filters-toggle {\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    height: 11rem;\n    @media (max-width: 650px) {\n      height: 15rem;\n    }\n  }\n  /* Toggle button styles */\n  .sidebar__toggle-active {\n    position: relative;\n    display: inline-block;\n    width: 4rem;\n    height: 2.2rem;\n    margin-left: 2rem;\n  }\n  .sidebar__toggle-active input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n  .slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: ",";\n    box-shadow: 0px 2px 4px #bfc2c8;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n  }\n  .slider:before {\n    position: absolute;\n    content: '';\n    height: 1.5rem;\n    width: 1.5rem;\n    left: 0.3rem;\n    bottom: 0.4rem;\n    background-color: ",";\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n  }\n  input:checked + .slider {\n    background-color: ",";\n  }\n  input:focus + .slider {\n    box-shadow: 0px 2px 4px #bfc2c8;\n  }\n  input:checked + .slider:before {\n    -webkit-transform: translateX(1.9rem);\n    -ms-transform: translateX(1.9rem);\n    transform: translateX(1.9rem);\n  }\n  /* Rounded slider */\n  .slider.round {\n    border-radius: 3.4rem;\n  }\n  .slider.round:before {\n    border-radius: 50%;\n  }\n  & .text_link {\n    padding-bottom: 1rem;\n    padding-left: 0.5rem;\n  }\n"]);return A=function(){return e},e}var V=M.e.nav(A(),w.l,w.d,w.l,w.k,w.p);var B=function(e){var n=e.handleCheckboxChange,t=e.toggleSidebar;return h.a.createElement(h.a.Fragment,null,h.a.createElement(V,null,h.a.createElement("button",{className:"sidebar__close-button",onClick:function(){return t()}},h.a.createElement(z.a,null)),h.a.createElement("div",{className:"sidebar__filters-toggle"},h.a.createElement("p",{className:"text text_p2"},"Advanced Search"),h.a.createElement("label",{className:"sidebar__toggle-active"},h.a.createElement("input",{type:"checkbox",onChange:n}),h.a.createElement("span",{className:"slider round"})))))},Q=t(577);function I(){var e=Object(F.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  & .chartstat__nav {\n    display: flex;\n    justify-content: space-between;\n  }\n  & .chartstat__label {\n    display: inline-block;\n    padding: 4px;\n    border-radius: 0.5rem;\n    color: ",";\n    background-color: ",";\n  }\n"]);return I=function(){return e},e}var T=M.e.div(I(),w.p,w.a);function J(){var e=Object(F.a)(["\n  display: block;\n  margin-left: 1rem;\n  background-color: ",";\n  border-radius: 2rem;\n  color: #fff;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  padding: 0.4rem 0.8rem;\n  box-shadow: 0px 4px 3px ",";\n  cursor: pointer;\n  transition-duration: 0.25s;\n  &:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.06),\n      0 0 16px rgba(0, 0, 0, 0.18);\n  }\n  background-color: ",";\n  pointer-events: ",";\n  & .text {\n    color: ",";\n  }\n"]);return J=function(){return e},e}var R=M.e.button(J(),w.p,w.k,(function(e){var n=e.type,t=e.isDemoPlay;return"".concat("period"===n&&t?w.a:w.p)}),(function(e){var n=e.type,t=e.isDemoPlay;return"period"===n&&t?"none":"inherit"}),(function(e){var n=e.type,t=e.isDemoPlay;return"period"===n&&t?"#C5CDD9":"#fff"}));function U(e){var n=e.isDemoPlay,t=e.onClick,a=e.type,r=e.children;return h.a.createElement(R,{type:a,onClick:t,isDemoPlay:n},h.a.createElement("span",{className:"text text_light text_s2"},r))}var W=function(e){var n=e.isDemoPlay,t=e.handleDemoPlay,a=e.handleDemoStop,r=e.handleSelectAll,i=e.selectedHour;return h.a.createElement(T,null,h.a.createElement("div",null,h.a.createElement("p",{className:"title title_h5"},"Timeline")),h.a.createElement("div",{className:"chartstat__nav"},h.a.createElement("button",{className:"chartstat__nav-item"},"Selected time:"," ",h.a.createElement("span",{className:"chartstat__label"},i?P.a.unix(i).format("HH:mm"):"none")),n?h.a.createElement(U,{type:"play",onClick:a},"Stop timeline"):h.a.createElement(U,{onClick:t},"Play timeline"),h.a.createElement(U,{type:"period",isDemoPlay:n,onClick:r},"All period")))};function Y(){var e=Object(F.a)(["\n  background-color: white;\n  z-index: 100;\n  @media (max-width: 1175px) {\n    display: none;\n  }\n"]);return Y=function(){return e},e}var Z=M.e.div(Y());function K(){var e=Object(F.a)(["\n  box-sizing: border-box;\n  padding: 1.5rem;\n  background-color: #fff;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  & .chart__tooltip-text_main {\n    font-family: 'Open-Sans-Bold', sans-serif;\n    margin-bottom: 1rem;\n  }\n  & .chart__tooltip-label {\n    display: inline-block;\n    padding: 4px;\n    border-radius: 0.5rem;\n  }\n  & .chart__tooltip-label_events {\n    background-color: ",";\n    color: ",";\n  }\n  & .chart__tooltip-label_posts {\n    background-color: ",";\n  }\n"]);return K=function(){return e},e}var q=M.e.div(K(),w.k,w.a,w.p,w.c),X=function(e){var n=e.active,t=e.label,a=e.payload;return n?h.a.createElement(q,null,h.a.createElement("p",{className:"text text_p1 chart__tooltip-text_main"},"Time: ".concat(P.a.unix(t).format("HH:mm"))),h.a.createElement("p",{className:"text text_p2 chart__tooltip-text"},"Events for hour:","  ",h.a.createElement("span",{className:"text_p2-bold chart__tooltip-label chart__tooltip-label_events"},"".concat(a[1].value))),h.a.createElement("p",{className:"text text_p2 chart__tooltip-text"},"Posts for hour:","  ",h.a.createElement("span",{className:"text_p2-bold chart__tooltip-label chart__tooltip-label_posts"},"".concat(a[0].value)))):null};var G=function(e){var n=e.chartData,t=e.fetchData,a=e.isDemoPlay,r=e.isShowAllEvents,i=e.highlightedHour,o=e.playDemo,l=e.selectedDate,c=e.selectedHour,s=e.setHighlightedHour,u=e.setSelectedHour,d=e.stopDemo,m=e.toggleAllEvents,p=function(e){s(e.time)},f=function(e){a&&d(),u(e.time===c?null:e.time),t(e.time)},b=function(e){if(e>0)return.5*e};return h.a.createElement(Z,null,n?h.a.createElement(h.a.Fragment,null,h.a.createElement(W,{chartData:n,selectedHour:c,selectedDate:l,handleDemoStop:function(){d()},handleDemoPlay:function(){o()},handleSelectAll:function(){m(n)},isDemoPlay:a}),h.a.createElement(Q.d,{width:"100%",height:210},h.a.createElement(Q.b,{data:n,margin:{top:20,right:0,left:0,bottom:5},onMouseLeave:function(e){s(null)}},h.a.createElement(Q.e,{cursor:!1,content:h.a.createElement(X,null)}),h.a.createElement(Q.f,{dataKey:"time",stroke:w.i,tickLine:!1,interval:2,tickFormatter:function(e){return"".concat(P.a.unix(e).format("HH"))}}),h.a.createElement(Q.a,{dataKey:"posts",stackId:"a",onMouseEnter:p,onClick:f},n.map((function(e,n){return h.a.createElement(Q.c,{cursor:"pointer",width:10,fill:r?w.b:e.time===i?w.b:e.time===Number(c)?w.b:w.c,key:"cell-".concat(n)})}))),h.a.createElement(Q.a,{dataKey:"events",stackId:"a",onMouseEnter:p,onClick:f,radius:[0,0,0,0]},n.map((function(e,n){return h.a.createElement(Q.c,{width:10,height:b(e.events),cursor:"pointer",fill:r?w.p:e.time===i?w.p:e.time===Number(c)?w.p:w.m,key:"cell-".concat(n)})})))))):null)},$=r()(s.d,l.d,l.h,s.p,s.q,(function(e,n,t,a,r){return{chartData:e,isDemoPlay:n,isShowAllEvents:t,selectedDate:a,selectedHour:r}})),ee=Object(i.connect)($,(function(e){return{fetchData:function(n){return e(Object(p.b)(n))},setHighlightedHour:function(n){return e(Object(p.g)(n))},setSelectedHour:function(n){return e(Object(m.o)(n))},playDemo:function(){return e(Object(p.d)())},stopDemo:function(){return e(Object(p.k)())},toggleAllEvents:function(n,t){return e(Object(p.l)(n,t))}}}))(G),ne=t(539),te=t.n(ne);t(542);function ae(){var e=Object(F.a)(["\n  @media (min-width: 1175px) {\n    display: none;\n  }\n  .rangeslider-horizontal {\n    height: 1rem;\n    outline: 0;\n  }\n  .rangeslider,\n  .rangeslider .rangeslider__fill {\n    display: block;\n    box-shadow: none;\n    outline: 0;\n  }\n  .rangeslider-horizontal .rangeslider__fill {\n    height: 100%;\n    background-color: ",";\n    outline: 0;\n  }\n  .rangeslider-horizontal .rangeslider__handle:after {\n    content: ' ';\n    position: absolute;\n    width: 0;\n    height: 0;\n    box-shadow: 0;\n    outline: 0;\n  }\n  .rangeslider .rangeslider__handle {\n    box-shadow: none;\n  }\n  .rangeslider__handle-label {\n    position: relative;\n  }\n  .rangeslider-horizontal .rangeslider__handle {\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    top: 50%;\n    transform: translate3d(-50%, -50%, 0);\n    outline: 0;\n  }\n  .rangeslider-horizontal .rangeslider__handle-tooltip {\n    top: -3.5rem;\n    background-color: transparent;\n    color: ",";\n  }\n  .rangeslider-horizontal .rangeslider__handle-tooltip {\n    background-color: none !important;\n    &:after {\n      border-left: 8px solid transparent;\n      border-right: 8px solid transparent;\n      border-top: 8px solid transparent !important;\n      left: 50%;\n      bottom: -7px;\n      transform: translate3d(-50%, 0, 0);\n    }\n  }\n  .rangeslider__placeholder {\n    display: block;\n    box-shadow: none;\n    outline: 0;\n    width: 100%;\n    height: 10px;\n    border-radius: 10px;\n    margin: 2rem 0;\n    position: relative;\n    background: #e6e6e6;\n    touch-action: none;\n    animation-duration: 1.5s;\n    animation-fill-mode: forwards;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    animation-name: placeholderAnimate;\n    background: linear-gradient(to right, #feefec 2%, #ff8c69 18%, #feefec 33%);\n    background-size: 1300px; /* Animation Area */\n  }\n  @keyframes placeholderAnimate {\n    0% {\n      background-position: -650px 0;\n    }\n    100% {\n      background-position: 650px 0;\n    }\n  }\n"]);return ae=function(){return e},e}var re=M.e.div(ae(),w.p,w.d);var ie=function(e){var n=e.chartData,t=e.isLoading,a=e.setSelectedHour,r=e.selectedHour,i=e.fetchData,o=Object(b.useState)(r),l=Object(f.a)(o,2),c=l[0],s=l[1];return Object(b.useEffect)((function(){s(r)}),[r]),t?h.a.createElement(re,null,h.a.createElement("div",{className:"rangeslider__placeholder"})):h.a.createElement(re,null,h.a.createElement(te.a,{min:n[0].time,max:n[23].time,step:3600,value:Number(c),format:function(e){return P.a.unix(e).format("HH")},tooltip:!0,onChange:function(e){s(e)},onChangeComplete:function(){s(c),a(c),i(c)}}))},oe=r()(s.d,l.e,s.q,(function(e,n,t){return{chartData:e,isLoading:n,selectedHour:t}})),le=Object(i.connect)(oe,(function(e){return{fetchData:function(n){return e(Object(p.b)(n))},setSelectedHour:function(n){return e(Object(m.o)(n))}}}))(ie);function ce(){var e=Object(F.a)(["\n  display: block;\n  border-radius: 2rem;\n  letter-spacing: 0.5px;\n  padding: 0.4rem 0.8rem;\n  background: ",";\n  cursor: pointer;\n  transition-duration: 0.25s;\n  &:hover {\n    transform: translateY(-1.5px);\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.02), 0 2px 2px rgba(0, 0, 0, 0.0015),\n      0 0 4px rgba(0, 0, 0, 0.045);\n  }\n  .text {\n    color: ",";\n  }\n"]);return ce=function(){return e},e}var se=M.e.button(ce(),w.r,w.d);function ue(e){var n=e.onClick,t=e.type,a=e.children;return h.a.createElement(se,{type:t,onClick:n},h.a.createElement("span",{className:"text text_s1"},a))}var de=t(295);var me=function(e){var n=e.selectedDate,t=e.setSelectedDate,a=e.stateDate,r=Object(b.useState)(null),i=Object(f.a)(r,2),o=i[0],l=i[1],c=Object(b.useState)(!1),s=Object(f.a)(c,2),u=s[0],d=s[1],m=Object(b.useState)("top"),p=Object(f.a)(m,2),g=p[0],v=p[1],x=Object(b.useState)(w.e),E=Object(f.a)(x,2),_=E[0],y=E[1];return Object(b.useEffect)((function(){window.innerWidth<1180&&v("bottom"),window.innerWidth<500&&y(w.t)}),[]),Object(b.useEffect)((function(){a&&l(new Date(1e3*a))}),[a]),h.a.createElement(M.b,{theme:_},h.a.createElement(de.b,{onDateChange:function(e){return function(e){var n=e.date,a=e.showDatepicker;l(n),d(a),t(n)}(e)},onFocusChange:function(e){d(e)},date:o,showDatepicker:u,displayFormat:"dd.MM.yyyy",minBookingDate:new Date("January 01, 2019 00:00:00"),initialVisibleMonth:new Date(1e3*n),placement:g}))},pe=t(296);function fe(){var e=Object(F.a)(["\n  padding: 3rem 0 2rem 0;\n  background-color: #ffffff;\n  .title_sidebar {\n    font-size: 2.3rem;\n    letter-spacing: 0;\n  }\n  @media (max-width: 800px) {\n    font-size: 2.1rem;\n  }\n"]);return fe=function(){return e},e}var be=M.e.div(fe());var he=function(e){var n=e.time,t=e.events;return h.a.createElement(be,null,h.a.createElement("h2",{className:"title title_h2 title_sidebar"},"".concat(null===t?0:t," ").concat(1===t?"event":"events")," ",h.a.createElement("span",{className:"title title_h2 title_light title_sidebar"},"for ",n)))},ge=t(301);function ve(){var e=Object(F.a)(["\n  .sidebar__filters {\n    display: flex;\n    padding-bottom: 2rem;\n    border-bottom: 1px solid ",";\n    padding-top: 2rem;\n    & > div {\n      flex-basis: 50%;\n    }\n  }\n  .sidebar__button-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-direction: row;\n    width: 100%;\n    padding-bottom: 1.5rem;\n  }\n"]);return ve=function(){return e},e}var xe=M.e.div(ve(),w.k),Ee=Object(b.lazy)((function(){return t.e(11).then(t.bind(null,579))}));var _e=function(e){var n=e.chartData,t=e.currentTab,a=e.setCurrentTab,r=e.eventFilters,i=e.isSearchingEvents,o=e.isShowAllEvents,l=e.handleDateChange,c=e.handleSubmitValue,s=e.handleSearchSubmit,u=e.handleSelectOption,d=e.handleSelectSearchQueryOption,m=e.handleSubmitSearchQueryValue,p=e.selectedDate,f=e.selectedHour,g=e.searchQueryFilters,v=e.searchParametersStartDate,x=e.searchParametersEndDate;return h.a.createElement(xe,null,!i&&null!==n&&h.a.createElement(h.a.Fragment,null,h.a.createElement(he,{time:o?P.a.unix(p).format("DD.MM.YYYY"):P.a.unix(f).format("HH:mm, DD.MM.YYYY"),events:function(){if(n){if(o)return n.reduce((function(e,n){return e+n.events}),0);var e=n.find((function(e){return e.time===Number(f)}));return e?e.events:null}return null}()}),window.innerWidth>1175?h.a.createElement(ee,null):h.a.createElement(le,null),h.a.createElement("div",{className:"sidebar__button-container"},h.a.createElement(ue,{onClick:function(){var e=Number(parseInt(p)-86400);l(e)},type:"back"},"<  ".concat(P.a.unix(Number(p)-86400).format("DD.MM"))),h.a.createElement(ue,{onClick:function(){var e=Number(parseInt(p)+86400);l(e)},type:"back"},"".concat(P.a.unix(Number(p)+86400).format("DD.MM"),"  >"))),h.a.createElement(pe.a,{value:r.get("keyword"),type:"multiply",submitValue:c}),h.a.createElement("div",{className:"sidebar__filters"},h.a.createElement(ge.a,{placeholder:"Sort by:",value:r.get("sortBy"),options:[{value:"A - Z"},{value:"Popular"},{value:"Nearby"},{value:"By time"}],handleSelectOption:u}),h.a.createElement(me,{stateDate:p,selectedDate:p,setSelectedDate:l}))),h.a.createElement(b.Suspense,{fallback:h.a.createElement("div",null,"Loading...")},h.a.createElement(Ee,{currentTab:t,setCurrentTab:a,display:i,selectedDate:p,handleSearchSubmit:s,handleSelectSearchQueryOption:d,handleSubmitSearchQueryValue:m,searchQueryFilters:g,searchParametersStartDate:v,searchParametersEndDate:x})))};function we(){var e=Object(F.a)(["\n  .arrow {\n    display: block;\n  }\n  .menu {\n    display: none;\n  }\n  @media (max-width: 650px) {\n    .arrow {\n      display: none !important;\n    }\n    .menu {\n      display: block;\n    }\n  }\n"]);return we=function(){return e},e}var ye=M.e.div(we());function ke(){return h.a.createElement(ye,null,h.a.createElement("svg",{className:"arrow",xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 492 492",width:"16px",height:"18px"},h.a.createElement("g",null,h.a.createElement("g",null,h.a.createElement("g",null,h.a.createElement("path",{d:"M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12    C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084    c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864    l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z","data-original":"#000000",className:"active-path","data-old_color":"#000000",fill:"#8F9BB3"}))))," "),h.a.createElement("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"menu"},h.a.createElement("path",{d:"M0 12H18V10H0V12ZM0 7H18V5H0V7ZM0 0V2H18V0H0Z",fill:"black"})))}function Oe(){var e=Object(F.a)(["\n  position: relative;\n  transition: all 0.3s;\n  flex-basis: 30%;\n  min-width: 30%;\n  margin-top: 7rem;\n  /* Sidebar container styles */\n  &.sidebar-container_active {\n    margin-left: 0;\n  }\n  &.sidebar-container_closed {\n    margin-left: -30%;\n  }\n  @media (max-width: 1300px) {\n    flex-basis: 40%;\n    min-width: 40%;\n    &.sidebar-container_active {\n      margin-left: 0;\n    }\n    &.sidebar-container_closed {\n      margin-left: -40%;\n    }\n  }\n  @media (max-width: 880px) {\n    flex-basis: 50%;\n    min-width: 50%;\n    &.sidebar-container_active {\n      margin-left: 0;\n    }\n    &.sidebar-container_closed {\n      margin-left: -50%;\n    }\n  }\n  @media (max-width: 650px) {\n    position: fixed;\n    flex-basis: 100%;\n    min-width: 100%;\n    z-index: 2;\n    &.sidebar-container_active {\n      margin-left: 0;\n    }\n    &.sidebar-container_closed {\n      margin-left: -100%;\n    }\n  }\n"]);return Oe=function(){return e},e}var Se=M.e.div(Oe());function je(){var e=Object(F.a)(["\n  transition: all 0.3s;\n  min-height: 35%;\n  height: 100vh;\n  overflow: scroll;\n  .sidebar-fixed {\n    position: fixed;\n    top: 1rem;\n    left: 0;\n    background-color: #ffffff;\n    z-index: 1;\n    width: 30%;\n    padding: 3rem;\n    padding-top: 0;\n    transition: all 0.3s;\n\n    &.sidebar-fixed_active {\n      left: 0;\n    }\n    &.sidebar-fixed_closed {\n      left: -30%;\n    }\n    @media (max-width: 1300px) {\n      width: 40%;\n      &.sidebar-fixed_active {\n        left: 0;\n      }\n      &.sidebar-fixed_closed {\n        left: -40%;\n      }\n    }\n    @media (max-width: 880px) {\n      width: 50%;\n      &.sidebar-fixed_active {\n        left: 0;\n      }\n      &.sidebar-fixed_closed {\n        left: -50%;\n      }\n    }\n    @media (max-width: 880px) {\n      width: 50%;\n      &.sidebar-fixed_active {\n        left: 0;\n      }\n      &.sidebar-fixed_closed {\n        left: -50%;\n      }\n    }\n    @media (max-width: 650px) {\n      width: 100%;\n      &.sidebar-fixed_active {\n        left: 0;\n      }\n      &.sidebar-fixed_closed {\n        left: -100%;\n      }\n    }\n  }\n"]);return je=function(){return e},e}var De=M.e.div(je());function Ce(){var e=Object(F.a)(["\n  position: absolute;\n  cursor: pointer;\n  top: 50%;\n  right: -3rem;\n  z-index: 2;\n  width: 3rem;\n  height: 8rem;\n  border-radius: 0px 10px 10px 0px;\n  padding: 0;\n  border: none;\n  font: inherit;\n  color: inherit;\n  outline: 0;\n  background-color: #ffffff;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-left: 1px solid ",";\n  & svg {\n    width: 1.8rem;\n    height: 1.8rem;\n    padding-right: 2px;\n  }\n  &.toggle-button_closed {\n    & svg {\n      transform: scale(-1, 1);\n    }\n  }\n  @media (max-width: 650px) {\n    display: none;\n    justify-content: center;\n    align-items: center;\n    top: 2.5%;\n    right: -7.5rem;\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06),\n      0 0 16px rgba(0, 0, 0, 0.24);\n    &.toggle-button_closed {\n      display: flex;\n    }\n  }\n"]);return Ce=function(){return e},e}var Ne=M.e.button(Ce(),w.k),He=t(297),Le=Object(b.lazy)((function(){return t.e(10).then(t.bind(null,583))}));var Pe=function(e){var n=e.allEventsData,t=e.chartData,a=e.currentEvents,r=e.currentUserLocation,i=e.events,o=e.isLoading,l=e.isPopupOpen,c=e.isSearchingEvents,s=e.isSidebarOpen,u=e.isShowAllEvents,d=e.toggleSidebar,m=e.searchQuery,p=e.searchQueryFilters,g=e.searchParameters,v=e.searchParametersStartDate,x=e.searchParametersEndDate,E=e.selectedHour,_=e.selectedDate,w=e.setNewDate,y=e.setHighlightedEvent,k=e.setSelectedEvent,O=e.setSearchParameters,S=e.setSearchEvents,j=e.onCardClick,D=e.setEventFilter,C=e.setSearchQueryFilter,N=e.eventFilters,H=e.viewport,L=e.mapRef,z=Object(b.useState)("Search"),F=Object(f.a)(z,2),M=F[0],A=F[1],V=Object(b.useRef)(),Q=Object(b.useState)(),I=Object(f.a)(Q,2),T=I[0],J=I[1],R=Object(He.b)();return Object(b.useEffect)((function(){V.current&&J(V.current.offsetHeight)}),[t,M,c,g,R]),h.a.createElement(Se,{className:s?"sidebar-container_active":"sidebar-container_closed"},h.a.createElement(De,null,window.innerWidth<600&&l?null:h.a.createElement(Ne,{className:s?"toggle-button_active":"toggle-button_closed",in:s.toString(),onClick:function(){return d()}},h.a.createElement(ke,null)),h.a.createElement("div",{className:s?"sidebar-fixed sidebar-fixed_active":"sidebar-fixed sidebar-fixed_closed",ref:V},h.a.createElement(B,{toggleSidebar:d,handleCheckboxChange:function(){S()}}),h.a.createElement(_e,{chartData:t,currentTab:M,setCurrentTab:A,eventFilters:N,isSearchingEvents:c,isShowAllEvents:u,handleDateChange:function(e){e.startDate?w(P()(e.startDate).unix()):w(e)},handleSearchSubmit:function(e){O(e)},handleSubmitValue:function(e){D({type:"keyword",parameter:e})},handleSelectOption:function(e){D({type:"sort",parameter:e})},handleSelectSearchQueryOption:function(e){C({type:"sort",parameter:e})},handleSubmitSearchQueryValue:function(e){C({type:"keyword",parameter:e})},selectedDate:Number(_),selectedHour:Number(E),searchQueryFilters:p,searchParametersStartDate:v,searchParametersEndDate:x})),V.current&&h.a.createElement(b.Suspense,{fallback:h.a.createElement("div",null,"Loading...")},h.a.createElement(Le,{chartData:t,currentEvents:a,currentUserLocation:r,events:i,eventFilters:N,isSearchingEvents:c,isSidebarOpen:s,isShowAllEvents:u,isLoading:o,searchQuery:m,searchQueryFilters:p,searchParameters:g,handleEventClick:function(e){var t=(u?n.find((function(n){return n.getIn(["properties","id"])===e})):c?m.find((function(n){return n.getIn(["properties","id"])===e})):a.find((function(n){return n.getIn(["properties","id"])===e}))).getIn(["geometry","coordinates"]).toJS();L.current.leafletElement.flyTo([t[0],t[1]],16),window.innerWidth<600&&d(),k(e)},handleEventHover:function(e){y(e)},onCardClick:j,mapRef:L,sidebarHeight:T,viewport:H}))))},ze=r()(s.a,s.d,s.e,c.b,s.j,l.f,l.i,l.h,s.q,s.p,s.i,l.g,s.o,s.l,l.e,c.d,l.c,s.n,s.m,s.k,(function(e,n,t,a,r,i,o,l,c,s,u,d,m,p,f,b,h,g,v,x){return{allEventsData:e,chartData:n,currentEvents:t,currentUserLocation:a,events:r,isPopupOpen:i,isSidebarOpen:o,isShowAllEvents:l,selectedHour:c,selectedDate:s,eventFilters:u,isSearchingEvents:d,searchQuery:m,searchParameters:p,isLoading:f,viewport:b,errors:h,searchQueryFilters:g,searchParametersStartDate:v,searchParametersEndDate:x}})),Fe=Object(i.connect)(ze,(function(e){return{toggleSidebar:function(){return e(Object(p.n)())},setNewDate:function(n){return e(Object(m.i)(n))},setHighlightedEvent:function(n){return e(Object(p.f)(n))},setSelectedEvent:function(n){return e(Object(p.i)(n))},setEventFilter:function(n){return e(Object(m.f)(n))},setSearchQueryFilter:function(n){return e(Object(m.m)(n))},setSearchParameters:function(n){return e(Object(m.k)(n))},setSearchEvents:function(){return e(Object(p.h)())}}}))(Pe);function Me(){var e=Object(F.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  overflow: hidden;\n  height: 100vh;\n  #mapId {\n    height: calc(100vh - 72px);\n    margin-top: 72px;\n    width: 100vw;\n    z-index: 1;\n  }\n  .marker {\n    width: 3rem !important;\n    height: 3rem !important;\n    will-change: transform, opacity, background;\n    animation: marker 0.3s cubic-bezier(0.62, 0.2, 0.87, 1.47);\n  }\n  .marker-inner {\n    position: relative;\n    width: 5rem !important;\n    height: 5rem !important;\n    border: 3px solid white;\n    border-radius: 50%;\n  }\n  .marker__description {\n    position: absolute;\n    top: 13%;\n    left: 84%;\n    z-index: -1;\n    background-color: hsla(0, 0%, 100%, 0.95);\n    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.06),\n      0 0 16px rgba(0, 0, 0, 0.24);\n    border-radius: 0px 5px 5px 0px;\n    max-width: 15rem;\n    min-width: 7.5rem;\n    max-height: 3.7rem;\n    overflow: hidden;\n    padding: 0.8rem 0 0.8rem 1.3rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-transition: 0.2s cubic-bezier(0.7, 0.2, 0.47, 0.2);\n    transition: 0.2s cubic-bezier(0.7, 0.2, 0.47, 0.2);\n    z-index: -10;\n    font-size: 1rem;\n    :hover {\n      background-color: rgba(247, 248, 249, 0.95);\n    }\n  }\n  @keyframes marker {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  .leaflet-overlay-pane {\n    z-index: 1 !important;\n  }\n  .leaflet-pane {\n    z-index: 0 !important;\n  }\n  .leaflet-top,\n  .leaflet-bottom {\n    z-index: 2 !important;\n  }\n  .leaflet-control {\n    z-index: 3 !important;\n  }\n  .leaflet-left {\n    left: unset !important;\n    right: 2rem !important;\n  }\n  .leaflet-top {\n    top: 1rem !important;\n  }\n"]);return Me=function(){return e},e}var Ae=M.e.div(Me()),Ve=Object(b.lazy)((function(){return Promise.all([t.e(4),t.e(9)]).then(t.bind(null,581))}));var Be=function(e){var n=e.setViewport,t=e.currentCityId,a=e.currentPopupData,r=e.currentUserLocation,i=e.isSidebarOpen,o=e.isPopupOpen,l=e.replace,c=e.selectedDate,s=e.setupMapFromHistory,u=e.setBounds,d=e.setCurrentUserLocation,m=e.setSelectedEvent,p=e.togglePopup,v=e.toggleSidebar,x=e.viewport,E=Object(b.useRef)(),_=Object(g.useParams)(),w=_.city,y=_.topLeft,k=_.botRight,O=_.time,S=Object(b.useState)(!1),j=Object(f.a)(S,2),D=j[0],C=j[1];Object(b.useEffect)((function(){null===t&&s({city:w,topLeft:y,botRight:k,time:O})}),[]),Object(b.useEffect)((function(){if(x.toJS().center.length>0&&C(!0),E.current&&!r){var e=E.current.leafletElement.locate()._renderer,n=e&&e._center;d(n)}}),[r,d,x]);var L=function(e,n){window.innerWidth<600&&i&&v(),m(e),p(n)};return h.a.createElement(Ae,null,D?h.a.createElement(h.a.Fragment,null,h.a.createElement(Fe,{onCardClick:L,viewport:x,mapRef:E}),h.a.createElement(H,Object.assign({},e,{mapRef:E,handleViewportChangeEnd:function(e){var a=[Number(E.current.leafletElement.getBounds()._southWest.lat.toFixed(3)),Number(E.current.leafletElement.getBounds()._southWest.lng.toFixed(3))],r=[Number(E.current.leafletElement.getBounds()._northEast.lat.toFixed(3)),Number(E.current.leafletElement.getBounds()._northEast.lng.toFixed(3))];n(e),u({topLeft:r,bottomRight:a}),l("/map/".concat(t,"/").concat(r,"/").concat(a,"/").concat(c))},onEventClick:L}))):h.a.createElement(N.a,null),o?h.a.createElement(b.Suspense,{fallback:h.a.createElement(N.a,null)},h.a.createElement(Ve,{isPopupOpen:o,closePopup:function(){p()},data:a})):null)},Qe=r()(s.b,s.d,u.b,s.f,s.e,s.j,l.e,l.h,l.i,s.q,s.p,c.d,l.f,l.g,s.o,s.g,(function(e,n,t,a,r,i,o,l,c,s,u,d,m,p,f,b){return{allHeatmapData:e,chartData:n,currentCityId:t,currentHeatmap:a,currentEvents:r,events:i,isLoading:o,isShowAllEvents:l,isSidebarOpen:c,selectedHour:s,selectedDate:u,viewport:d,isPopupOpen:m,isSearchingEvents:p,searchQuery:f,currentPopupData:b}}));n.default=Object(i.connect)(Qe,(function(e){return{fetchAllData:function(n){return e(Object(p.a)(n))},setupMapFromHistory:function(n){return e(Object(m.p)(n))},replace:function(n){return e(Object(o.c)(n))},togglePopup:function(n){return e(Object(p.m)(n))},toggleSidebar:function(){return e(Object(p.n)())},setBounds:function(n){return e(Object(d.a)(n))},setCurrentUserLocation:function(n){return e(Object(d.b)(n))},setSelectedEvent:function(n){return e(Object(p.i)(n))},setViewport:function(n){return e(Object(d.c)(n))}}}))(Be)}}]);
//# sourceMappingURL=7.1458076d.chunk.js.map